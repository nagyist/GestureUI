all: libseqdb.so

CC = g++-4.4
CFLAGS = -O2 -I../math
LDFLAGS = -Wall -pipe -fPIC -funroll-loops

#SRC = $(shell ls *.cpp)
SRC = Point.cpp Gesture.cpp database.cpp
OBJ = $(SRC:.cpp=.o)

# %.o: %.cpp
# 	$(CC) -fPIC -c $^ $(CFLAGS)

libseqdb.so: $(SRC)
	$(CC) -O2 $(LDFLAGS) -shared -fPIC -Wl,-soname,$@.1 -o $@.1 $^ -lm
	ln -sf $@.1 $@ 	

clean:
	rm *.o libseqdb.so